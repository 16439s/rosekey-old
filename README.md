[Misskey](https://misskey-hub.net/) ã®ãƒ•ã‚©ãƒ¼ã‚¯ã® [Firefish](https://joinfirefish.org/) ã®ãƒ•ã‚©ãƒ¼ã‚¯ã§ã™ã€‚

ã‚ªãƒªã‚¸ãƒŠãƒ«ã® README ã¯[ã“ã¡ã‚‰](./README.original.md)

# å¤‰æ›´ç‚¹

## ä»Šå¾Œã®äºˆå®š

[Issues](https://code.naskya.net/naskya/firefish/issues) ã«ã‚ã‚Šã¾ã™ã€‚

## ä¸»è¦ãªå¤‰æ›´ç‚¹

- ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºã®ä¸‹éƒ¨ã®ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’å†èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³ã«å¤‰æ›´å¯èƒ½ã«
  - ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¯ä½¿ã‚ãªã„ã‘ã©å†èª­ã¿è¾¼ã¿ã¯ãŸãã•ã‚“ã™ã‚‹äººã¯ã„ãã†
- ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºã®ä¸‹éƒ¨ã®ãƒãƒ£ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ã«å¤‰æ›´å¯èƒ½ã«
  - ã“ã‚Œç„¡ã—ã§ PWA ã§è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ãŠã†ã¨ã™ã‚‹ã¨è…±é˜ç‚ã«ãªã‚‹
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ä½ç½®ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ç›´å‰ã«ç§»å‹•
  - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚ˆã‚Šã‚‚ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã®ã»ã†ãŒä½¿ã„ã‚„ã™ã„ã¨è€ƒãˆãŸãŸã‚
- ã€ŒFirefish ã«ã¤ã„ã¦ã€ã®ãƒšãƒ¼ã‚¸ã« Misskey ã®ä¸»è¦ãªè²¢çŒ®è€…ã‚’è¡¨ç¤º
  - ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ Misskey ã®ãƒ•ã‚©ãƒ¼ã‚¯ã§ã‚ã‚‹ãŸã‚

## ç´°ã‹ã„å¤‰æ›´ç‚¹

- ã‚¢ãƒ³ãƒ†ãƒŠã«ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ›ãƒ¼ãƒ æŠ•ç¨¿ã‚‚è¡¨ç¤ºã™ã‚‹
  - ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ã¯è¦‹ãŸã„ã‹ã‚‰
- çŒ«ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¸¸ã«ä¸¸ãè¡¨ç¤ºã™ã‚‹
  - ãã®ã»ã†ãŒã‹ã‚ã„ã„ãŸã‚
- é–²è¦§æ³¨æ„ã®æŠ•ç¨¿ã¸ã®è¿”ä¿¡ã§æ³¨é‡ˆã®å…ˆé ­ã« "re:" ã‚’ã¤ã‘ã‚‹è¨­å®šã‚’è¿½åŠ 
  - è¿”ä¿¡ã§é–²è¦§æ³¨æ„ã¯ç¶­æŒã—ãŸã„ã‘ã©ãã®ã¾ã¾ã®æ³¨é‡ˆã‚’ç”¨ã„ã‚‹ã®ã«ã¯é•å’Œæ„Ÿã‚’è¦šãˆã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚‹ãŸã‚
- NSFW ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’éš ã™è¨­å®šã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã”ã¨ã®è¨­å®šã‹ã‚‰ãƒ–ãƒ©ã‚¦ã‚¶ã”ã¨ã‹ã¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã®è¨­å®šã«å¤‰æ›´
  - ã€Œã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã¯ NSFW ã®ç”»åƒã‚’å¸¸ã«è¡¨ç¤ºã—ãŸã„ã€ã¿ãŸã„ãªéœ€è¦ãŒç§ã«ã‚ã£ãŸãŸã‚
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¸¸ã«è¡¨ç¤ºã™ã‚‹
  - ãã®ã»ã†ãŒæ¥½ã—ã„ã¨æ€ã£ãŸã‹ã‚‰
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«å‡ºã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢åã§ FoundKey, PeerTube, GNU Social, WriteFreely ãªã©ã‚’æ­£ã—ãè¡¨ç¤ºã™ã‚‹
- è—ã¡ã‚ƒã‚“ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®å¾©æ´»
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚‚è¡¨ç¤ºã™ã‚‹
  - æ°—ã«ãªã‚‹ã‹ã‚‰
- ã„ã„ã­ãƒœã‚¿ãƒ³ï¼ˆãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ”ãƒƒã‚«ãƒ¼ã®å·¦ã«ã‚ã‚‹ã€â­ã¨ã‹ğŸ‘ã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§æŠ¼ã›ã‚‹ã‚„ã¤ï¼‰ã§ç©ºã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆMastodon ãŒãµãã¼ã§é€ã£ã¦ãã‚‹ã‚‚ã®ã¨åŒã˜ï¼‰ã§ã¯ãªãæœ¬å½“ã«ãã®çµµæ–‡å­—ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆâ­ã¨ã‹ğŸ‘ã¨ã‹ï¼‰ã‚’é€ã‚‹ã‚ˆã†ã«ã™ã‚‹
  - æœ€æ–°ã® Misskey ã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒâ¤ï¸ã«ãªã£ãŸãŸã‚ç©ºã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ã‚‹ã¨â¤ï¸ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†ãŒã€â¤ï¸ã¯ â„’â„´ğ“‹â„¯... ã¨ã„ã†æ°—æŒã¡ã‚’ä¼ãˆã‚‹ãŸã‚ã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚ã£ã¦ãŸã ã®ã€Œã„ã„ã­ã€ã¨ã¯ç•°ãªã‚‹ãŸã‚ã€ã“ã®ãƒœã‚¿ãƒ³ã§â¤ï¸ã¯é€ã‚ŠãŸããªã„ã‹ã‚‰
- é€šçŸ¥ã®è¡¨ç¤ºã‚’ç°¡æ½”ã«ã™ã‚‹
  - ã€ŒãŒãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã—ã¾ã—ãŸã€ã¨ã‹ãƒªãƒ—ãƒ©ã‚¤ã®ä¸Šã«ã‚ã‚‹ç™½ã„ç·šã¨ã‹ãŒé‚ªé­”ã«æ€ãˆãŸãŸã‚
- æ”¯æ´è€…ãƒªã‚¹ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€
  - å¤–éƒ¨ã®ã‚µãƒ¼ãƒãƒ¼ãŒè½ã¡ã‚‹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒšãƒ¼ã‚¸ãŒé–‹ã‘ãªããªã‚‹ã“ã¨ã‚’é˜²ããŸã‚
- é–²è¦§æ³¨æ„ã®æ³¨é‡ˆã¨ç”»åƒã®ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã‚¢ãƒ³ãƒ†ãƒŠã§èª¿ã¹ã‚‹å¯¾è±¡ã«ã™ã‚‹
  - ~~ã€Œãããã€ã§ã‚¢ãƒ³ãƒ†ãƒŠã‚’ä½œã‚Œã‚‹~~
- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ‹’å¦ã« `noindex` ã«åŠ ãˆã¦ `nofollow,noarchive,nocache,noimageindex` ã‚‚æŒ‡å®š
- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨ã—ã¦ favicon ã‚’å„ªå…ˆã™ã‚‹
  - favicon ã®ã»ã†ãŒã‚ˆãã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚Œã¦ã„ã‚‹ãŸã‚
- èª¤çˆ†ã—ã‚„ã™ã„ä½ç½®ã«ã‚ã‚‹ãƒ•ã‚©ãƒ­ãƒ¼ãƒœã‚¿ãƒ³ã‚’éš ã™è¨­å®šã‚’è¿½åŠ 
  - ãƒ•ã‚©ãƒ­ãƒ¼ã‚’èª¤çˆ†ã™ã‚‹ã¨æ‚²ã—ã„ãŸã‚
- ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æ‹’å¦ã™ã‚‹ [robots.txt](./custom/assets/robots.txt) ã®è¿½åŠ 
  - joinfirefish ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã¯è¨±å¯ã—ã¦ã„ã¾ã™
- æŠ•ç¨¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ªãƒ³ã«ã™ã‚‹è¨­å®šã‚’è¿½åŠ 
- çŒ«è€³ã®è§’ã‚’å°‘ã—ä¸¸ãã™ã‚‹ï¼ˆMisskey ã‹ã‚‰å–ã‚Šè¾¼ã¿ï¼‰
  - ãã®ã»ã†ãŒã‹ã‚ã„ã„ãŸã‚
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã«ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒå«ã¾ã‚Œã‚‹ã‚ˆã†ã«
  - æ­£ç¢ºãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ†ã‹ã‚‹ã¨ãƒã‚°ä¿®æ­£ã«å½¹ç«‹ã¤ãŸã‚

# ä½¿ç”¨æ–¹æ³•

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

[Firefish ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ](https://git.joinfirefish.org/firefish/ubuntu-bash-install)ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å°‹ã­ã‚‰ã‚Œã‚‹ãƒªãƒã‚¸ãƒˆãƒªã® URL ã«ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã® URL ã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚

```
Repository url where you want to install:
> https://code.naskya.net/naskya/firefish
```

## ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

`update.sh` ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```sh
$ ./update.sh
```

## Firefishï¼ˆãƒ•ã‚©ãƒ¼ã‚¯å…ƒï¼‰ã‹ã‚‰ã®ä¹—ã‚Šæ›ãˆ

1. ã‚µãƒ¼ãƒãƒ¼ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹
1. ã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ã™ã‚‹
    ```sh
    $ sudo systemctl stop yourserver.example.com
    ```
1. Firefish ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (e.g., `/home/calckey/calckey`) ã®è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (e.g., `/home/calckey`) ã«ç§»å‹•ã™ã‚‹
    ```sh
    $ cd /home/calckey
    ```
1. Firefish ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (e.g., `./calckey`) ã®åå‰ã‚’å¤‰ãˆã‚‹
    ```sh
    $ mv calckey calckey.old
    ```
1. å…ƒã€… Firefish ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (e.g., `./calckey`) ã¨åŒã˜åå‰ã§ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹
    ```sh
    $ git clone https://code.naskya.net/naskya/firefish calckey
    ```
1. å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã‚³ãƒ”ãƒ¼ã™ã‚‹
    ```sh
    $ rm -rf calckey/files calckey/custom calckey/.config
    $ cp -r calckey.old/files calckey
    $ cp -r calckey.old/custom calckey
    $ cp -r calckey.old/.config calckey
    ```
1. ãƒ“ãƒ«ãƒ‰ã™ã‚‹
    ```sh
    $ ./calckey/update.sh
    ```
1. ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦å‹•ä½œã‚’ç¢ºèªã™ã‚‹
    ```sh
    $ sudo systemctl start yourserver.example.com
    ```
1. å…ƒã€… Firefish ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤ã™ã‚‹
    ```sh
    $ rm -rf calckey.old
    ```

## ã“ã®ãƒ•ã‚©ãƒ¼ã‚¯ã‹ã‚‰ Firefishï¼ˆãƒ•ã‚©ãƒ¼ã‚¯å…ƒï¼‰ã¸æˆ»ã‚‹

ToDo (#58)
